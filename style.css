:root{
  /* 會被主題覆蓋的變數 */
  --bg:#0f0f14; --bg2:#0e0e12;
  --card:#181823; --border:#2a2a3a;
  --text:#f7f7fb; --muted:#a7a7bb;
  --primary:#a56cf5; --primary2:#ff79c6; --accent:#6cf5d4;
}
*{box-sizing:border-box} html,body{height:100%}

/* 背景 / 文字隨主題變動 */
body{
  margin:0;
  background:linear-gradient(180deg,var(--bg),var(--bg2) 60%);
  color:var(--text);
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Helvetica,Arial;
}

.topbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 20px;border-bottom:1px solid var(--border);
  position:sticky;top:0;background-color:#11111899;backdrop-filter:saturate(140%) blur(8px)
}
h1{font-size:18px;margin:0}
.stats{font-size:14px;color:var(--muted);gap:10px;display:flex;align-items:center}

.container{max-width:1024px;margin:24px auto;padding:0 16px;display:grid;grid-template-columns:1.3fr 1fr;gap:16px}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;padding:16px;box-shadow:0 10px 30px #00000055
}
.card-title{font-weight:700;margin-bottom:12px}
.timer-card{grid-column:1/2;display:grid;gap:12px}
.tasks-card,.role-card{grid-column:2/3}
@media (max-width:900px){.container{grid-template-columns:1fr}.timer-card,.tasks-card,.role-card{grid-column:1/2}}

.tabs{display:flex;gap:8px}
.tab{
  border:1px solid var(--border);background:#1e1e2b;color:#d8d8ef;
  padding:8px 12px;border-radius:999px;cursor:pointer
}
.tab.active{
  background:linear-gradient(90deg,var(--primary),var(--primary2));
  color:#fff;border-color:transparent
}

.role{display:flex;align-items:center;gap:16px}
.avatar-wrap{width:110px;height:110px;border-radius:999px;background:radial-gradient(circle at 30% 30%,#fff3,transparent 60%);padding:3px;border:2px solid #333}
.avatar{width:100%;height:100%;object-fit:cover;border-radius:999px}
.speech{flex:1;padding:12px 14px;border-radius:14px;background:#202034;color:#eee;border:1px solid var(--border)}

.timer{text-align:center;padding:8px 0}
.time{
  font-size:64px;font-weight:800;letter-spacing:2px;
  background:linear-gradient(90deg,var(--primary),var(--accent));
  -webkit-background-clip:text;background-clip:text;color:transparent;margin-bottom:8px
}
.controls{display:flex;justify-content:center;gap:8px}
.controls button{
  background:#26263a;border:1px solid #37375a;color:#f3f3ff;
  padding:10px 14px;border-radius:12px;cursor:pointer;min-width:88px
}

.settings{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:8px}
.settings label{display:flex;flex-direction:column;font-size:12px;color:var(--muted);gap:6px}
.settings input,.settings select{
  background:#1e1e2b;border:1px solid #2b2b42;border-radius:10px;
  padding:8px 10px;color:#e8e8ff
}

.add-task{display:flex;gap:8px;margin-bottom:8px}
.add-task input{flex:1;background:#1e1e2b;border:1px solid #2b2b42;border-radius:10px;padding:10px;color:#e8e8ff}
.add-task button{width:52px;border-radius:10px;border:1px solid #39395f;background:#2a2a42;color:#fff;cursor:pointer}
.tasks{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}
.task{display:grid;grid-template-columns:auto 1fr auto auto;gap:10px;align-items:center;padding:10px;border:1px solid var(--border);border-radius:12px;background:#202034}
.task .handle{cursor:grab;opacity:.7}
.task input[type=checkbox]{width:18px;height:18px}
.task .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.task.done .title{text-decoration:line-through;color:#9aa}
.task button{background:#2a2a42;border:1px solid #3a2a5a;color:#fff;border-radius:8px;padding:6px 10px;cursor:pointer}

.role-form{display:flex;justify-content:space-between;gap:12px;align-items:flex-start}
.role-form label{display:flex;flex-direction:column;gap:6px}
.avatar-uploader{display:flex;flex-direction:column;gap:8px;align-items:center}
.speech-editor{display:grid;grid-template-columns:1fr;gap:12px;margin-top:8px}
.speech-block{border:1px dashed #3a3a5a;border-radius:12px;padding:10px}
.speech-block h4{margin:0 0 8px}
.speech-row{display:flex;gap:6px;margin-bottom:6px}
.speech-row input{flex:1;background:#1e1e2b;border:1px solid #2b2b42;border-radius:10px;padding:8px 10px;color:#e8e8ff}
.muted{color:var(--muted);font-size:12px}

.footer{padding:24px 16px;color:#9aa;text-align:center}

/* 主題按鈕 */
.themes{ display:flex; gap:14px; flex-wrap:wrap }
.theme-btn{
  width:72px; height:72px; border-radius:999px; border:2px solid transparent;
  cursor:pointer; outline:none; background:#222; overflow:hidden;
  display:grid; grid-template-columns:1fr 1fr; grid-template-rows:1fr 1fr;
}
.theme-btn span{display:block; width:100%; height:100%;}
.theme-btn.active{ border-color:var(--primary2); box-shadow:0 0 0 3px #ffffff10; }
.theme-label{ text-align:center; margin-top:6px; font-size:13px; color:#cfd }
.theme-wrap{ display:flex; flex-direction:column; align-items:center }
